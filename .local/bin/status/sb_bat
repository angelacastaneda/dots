#!/bin/sh -eu
# battery module for status bar

bat="$1"
cap="$(cat /sys/class/power_supply/"$bat"/capacity)"
stat="$(cat /sys/class/power_supply/"$bat"/status)"

case $stat in
	"Full")
		emoji=âš¡
		;;
	"Discharging")
		if [ "$cap" -gt 87 ]; then
			emoji=ï‰€
		elif [ "$cap" -gt 62 ]; then
			emoji=ï‰
		elif [ "$cap" -gt 37 ]; then
			emoji=ï‰‚
		elif [ "$cap" -gt 10 ]; then
			emoji=ï‰ƒ
		else
			emoji=ï‰„
		fi
		;;

	"Not charging")
		emoji=âš ï¸
		;;
	"Charging")
		emoji=ğŸ”Œ
		;;
	*)
		emoji=â“
		;;
esac

printf '%s %s%%' "$emoji" "$cap"
